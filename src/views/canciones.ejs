<!DOCTYPE html>
<html>

<head>
    <title>E-Sueño</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <link rel="stylesheet" href="./css/style.css">
    <script src="https://kit.fontawesome.com/396e59a0ce.js" crossorigin="anonymous"></script>
</head>

<body>
    <%- include('partials/navigation') %>
        <div id="mensajeError" style="display: none;"></div>
        <div class="container">
            <div class="d-flex justify-content-center m-4">
                <h1><i class="fa-solid fa-music fa-2xs"></i> Mi repertorio <i class="fa-solid fa-music fa-2xs"></i></h1>
            </div>
            <form action="/canciones" method="POST">
                <div class="row">
                    <div class="col-1 py-2">
                        <div class="form-group">
                            <label for="titulo">Título: </label>
                        </div>
                    </div>
                    <div class="col-11 py-2">
                        <input type="text" class="form-control" id="titulo" name="titulo"
                            placeholder="Ingrese el título">
                    </div>
                    <div class="col-1 py-2">
                        <div class="form-group">
                            <label for="artista">Artista:</label>
                        </div>
                    </div>
                    <div class="col-11 py-2">
                        <div class="form-group">
                            <input type="text" class="form-control" id="artista" name="artista"
                                placeholder="Ingrese el artista">
                        </div>
                    </div>
                    <div class="col-1 py-2">
                        <div class="form-group">
                            <label for="tono">Tono:</label>
                        </div>
                    </div>
                    <div class="col-11 py-2">
                        <div class="form-group">
                            <input type="text" class="form-control" id="tono" name="tono" placeholder="Ingrese el tono">
                        </div>
                    </div>

                </div>
                <div class="d-flex justify-content-center mb-4 py-2">
                    <button type="submit" onclick="validarCampos()" class="btn btn-success">Agregar</button>
                </div>

            </form>

            <h2 class="text-center">Tabla de canciones <i class="fa-solid fa-microphone-lines"></i></h2>
            <table class="table-dark w-100 table-bordered table-hover">
                <thead class="text-center">
                    <tr>
                        <th>#</th>
                        <th>Título</th>
                        <th>Artista</th>
                        <th>Tono</th>
                        <th>-</th>

                    </tr>
                </thead>
                <tbody class="text-center">
                    <% canciones.map(cancion => { %>
                        <tr>
                            <td id="serial_<%= cancion.id %>">
                                <%= cancion.id %>
                            </td>
                            <td id="titulo_<%= cancion.id %>">
                                <%= cancion.titulo %>
                            </td>
                            <td id="artista_<%= cancion.id %>">
                                <%= cancion.artista %>
                            </td>
                            <td id="tono_<%= cancion.id %>">
                                <%= cancion.tono %>
                            </td>
                            <td class="d-flex justify-content-around">
                                <button class="btn btn-warning" 
                                    onclick="location.href='/canciones/<%= cancion.id %>/editar'">Editar</button>
                                <button class="btn btn-danger"
                                    onclick="eliminarCancion('<%= cancion.id %>')">Eliminar</button>
                            </td>

                        </tr>

                        <% }); %>
                </tbody>
            </table>
        </div>
        <%- include('partials/footer') %>
            <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
                integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
                crossorigin="anonymous"></script>
            <script src="./js/scripts.js"></script>
</body>

</html>